# 20240321 그래프 필기

## 최소비용신장트리(MST)
- 그래프에서 최소 비용 문제
  - 모든 정점을 연결하는 간선들의 가중치이 합이 최소가 되는 트리
  - 두 정점 사이의 최소 비용의 경로 찾기
- 신장 트리
  - n개의 정점으로 이루어진 무방향 그래프에서 n개의 정점과 n-1개의 간선으로 이루어진 트리 (가장 적은 간선으로 모든 노드를 연결한 그래프)
- 최소신장트리(Minimum Spanning Tree)
  - 무방향 가중치 그래프에서 신장 트리를 구성하는 간선들의 가중치의 합이 최소인 신장 트리

## Prim 알고리즘

### 개요
- 하나의 정점에서 연결된 간선들 중에 하나씩 선택하면서 MST를 만들어가는 방식
  - 임의 정점을 하나 선택해서 시작
  - 선택한 정점과 인접하는 정점들 중의 최소 비용의 간선이 존재하는 정점을 선택
  - 모든 정점이 선택될 때까지 앞의 과정을 반복
- 서로소인 2개의 집합 (2 disjoint-sets)정보를 유지
  - 트리 정점들(tree vertices) - MST를 만들기 위해 선택된 정점들
  - 비트리 정점들(nontree vertices) - 선택되지 않은 정점들

### 알고리즘
```c
MST_PRIM(G, r)    // G:그래프, r:시작정점
  For u in G.V
    u.key <- infinite   //u.key: u에 연결된 간선중 최소 가중치
    u.pi <- NULL        //u.pi : 트리에서 u의 부모
  
  r.key <- 0
  Q <- G.V        // 우선순위 Q에 모든 정점을 넣는다
  WHILE Q != 0    // Q가 비어있지 않다면 반복
    u <- Extract_MIN(Q) // key 값이 가장 작은 정점 가져오기
    FOR v in G.adj[u] // u의 인접 정점들
      IF v in Q AND w(u, v) < v.key // Q에 있는 v의 key값 갱신
        v.py <- u
        v.key <- w(u, v)
```

[예제코드](./code/MST_prim.py)

## Kruskal 알고리즘
- 간선을 하나씩 선택해서 MST를 찾는 알고리즘
  1) 최초, 모든 간선을 가중치에 따라 오름차순 정렬
  2) 가중치가 가장 낮은 간선부터 선택하면서 트리를 증가시킴
       - 사이클이 존재하면 다음으로 가중치가 낮은 간선 선택
  3) n-1개의 간선이 선택될 때까지 2)를 반복

[예제코드](./code/MST_kruskal.py)


## dijkstra 알고리즘 (최단경로 찾기)
- 최단 경로 정의
  - 간선의 가중치가 있는 그래프에서 두 정점 사이의 경로들 중에 간선의 가중치의 합이 최소인 경로
- 하나의 시작 정점에서 끝 정점까지의 최단경로
  - 다익스트라(dijkstra) 알고리즘
    - 음의 가중치를 허용하지 않음
  - 벨만-포드(Bellman-Ford) 알고리즘
    - 음의 가중치 허용
- 모든 정점들에 대한 최단 경로
  - 플로이드-워샬(Floyd-Warshall)알고리즘

### Dijkstra 방법
- 시작 정점에서 거리(누적거리)가 최소인 정점을 선택해 나가면서 최단 경로를 구하는 방식이다.
- 시작정점(s)에서 끝정점(t)까지의 최단 경로에 정점x가 존재한다
- 이때, 최단경로는 s에서 x까지의 최단 경로와 x에서 t까지의 최단경로로 구성된다.
- 탐욕 기법을 사용한 알고리즘으로 MST의 프림 알고리즘과 유사하다.

### 알고리즘
```c
// s:시작정점, A:인접행렬, D:거리
// V:정점집합, U:선택된 정점집합

Dijkstra(s, A, D)
  U = {s}

  FOR 모든 정점 V
    D[v] <- A[s][v]

    WHILE U != V
      D[w]가 최소인 정점 w in V-U를 선택
      U <- U or {w}

      FOR w 에 인접한 모든 정점 v
        D[v] <- min(D[v], D[w] + A[w][v])

```
[예제코드](./code/dijkstra.py)
### 개념
- 일단 모든 노드에 대해 가중치는 최대치로 설정
- 갈 수 있는 노드에 대해 가중치를 설정
- 가장 가중치가 낮은 곳을 방문
- 누적 거리를 계속해서 계산